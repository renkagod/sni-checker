# SNI Checker

Инструмент для проверки SNI. Данный скрипт не является моей разработкой и был взят из открытых источников в интернете.

Данный инструмент предназначен исключительно для образовательных целей и ознакомления. Автор не несет ответственности за любой возможный ущерб или неправомерное использование данного скрипта.

## Установка

1. Создайте виртуальное окружение:
   ```bash
   python -m venv venv
   ```
2. Активируйте его:
   - Windows: `venv\Scripts\activate`
   - Linux/macOS: `source venv/bin/activate`
3. Установите зависимости:
   ```bash
   pip install -r requirements.txt
   ```

## Настройка и запуск

Подготовьте список доменов в файле `sni.txt` (по одному на строку).

Запустите скрипт, указав IP вашего сервера:
```bash
python sni_checker.py -i 1.2.3.4
```

### Основные аргументы:
- `-i`, `--ip`: IP вашего сервера (**обязательно**).
- `-p`, `--port`: Порт, на котором слушает Xray/Reality (по умолчанию: 443).
- `-t`, `--timeout`: Таймаут соединения в секундах (по умолчанию: 5.0).
- `-c`, `--concurrency`: Количество одновременных проверок (по умолчанию: 100).
- `-f`, `--sni-path`: Путь к файлу или папке со списками SNI (по умолчанию: `sni.txt`).
- `--shuffle`: Перемешать список доменов перед проверкой.
- `-s`, `--strict`: Требовать корректный HTTP-ответ от сервера.

### Примеры использования:

**Простая проверка с указанием порта:**
```bash
python sni_checker.py -i 1.2.3.4 -p 8443
```

**Быстрая проверка с перемешиванием и коротким таймаутом:**
```bash
python sni_checker.py -i 1.2.3.4 -t 2.5 -c 200 --shuffle
```

## Особенности работы
Скрипт проверяет возможность установления TLS-соединения с вашим сервером, используя подмену SNI. 

При каждом запуске создается новая папка в каталоге `scan_out/` с меткой времени (например, `run_2026-02-24_15-30-00`), где сохраняются:
- `working.txt` — список только рабочих SNI.
- `results.jsonl` — полный лог проверки.
